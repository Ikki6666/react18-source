为啥叫自动的 自动就新的

这两者有什么不一样吗, 或者说是 automatic会带来一些优化 ???
以前需要你在代码中手动引入React,现在不需要你手工引入React

新的写法是17后的版本吗
为什么react转jsx换成automatic，比classic的优势是什么
👍👍👍
react自己就可以过滤特殊字符吗 可以的
老师看下package.json
jsx-dev-runtime和jsx- runtime有什么区别



节点生成是从里到外的？？
是的
代码commit下
深度优先
为什么要用hasOwnProperty判断一下 感觉没必要
有必要的，因为有可能此属性是原型 上的
没看到递归呀，儿子怎么转成react元素的？
这个递归是babel帮我们实现的



简单来说FiberRootNode = containerInfo,它的本质就是一个真实的容器DOM节点 div#root
其实就是一个真实的DOM



如果没有空闲执行任务， 还一定等到16.6ms才渲染下一帧吗？
下一个16.6
16.6m 是一帧的时间 不是等16.6
有无数个16.6ms 这个不行就下一个 下个不行就下下个
直到执行完
每一帧16.6ms，其中5ms左右的空闲时间。16.6ms是通过60Hz计算出来的，那5ms是通过什么算出来的？

5ms是一个平均值 
空闲任务没完成会放到下一针的的最开始吧
这种是基于线程还是进程
5ms是react定义的
5ms是大概不卡的默认值

React里面并没有使用requestIdleCallback, 
因为1.兼容性问题 2，执行时间不可控
React自己实现了一个类似requestIdleCallback,里面把每帧执行时间定为5ms

是看下一次有空余的一帧时间
都没有的话就到最后
为什么deadline.timeRemaining大于1
大于就是表示还有空闲时间
线程，js是跑在线程里的

单个任务执行过长 会被中断吗？
会？不会中断，一个任务就是执行的最小单位，不能打断
requestIdleCallback 支持性不是很好啊
react自己实现了一个requestIdleCallback
不中断
如果第一个任务还没执行完，第一帧就没剩余时间了。
那么这个任务就会中断，然后放到下一帧重新执行？

调度为合作式调度
是用户和浏览器双方的合作。

可以理解成就是按照执行的顺序前后联系上吗
这棵树只有刚开始会建立，后面都是透过删除，更新，新增 fiber node来改变这棵树 对吧?
是的
感觉这个树的访问是深度优先吗
是的
如果不能知道二儿子，为啥二儿子的return能指向父亲呢？

更新节点的时候会diff
可以通过大儿子知道二儿子


为什么父节点要标记子节点的flags?

为了性能优化

在更新的时候我要知道当前fiber节点的状态  是增加还是更新还是删除
双缓存技术是React中特有的吗？
具体用在哪


noflag 作用是什么 没听懂
noflag就是没用副作用的意思 就是没有任务操作

为什么要用二级制表示
子节点更新又不更新父节点，为什么还要给父节点标记为4
1
副作用是什么？
父亲没副作用 能确保孩子没副作用??
不能



父亲没副作用 能确保孩子没副作用?? 不能
孩子有副作用，自己一定有副作用？ 不一定



下次更新的时候 有更新删除增加操作 就算有副作用 是的
遍历tree的时后会搜集 effect
React18以前会收effect
React18.2删除了所有的effects
不再收集effect,


自己的副作用，和孩子的副作用，是两个独立的变、量标识
孩子副作用怎么递归上去的呢？
function bubbleProperties(completedWork) {}
儿子的副作用会向上冒泡给父亲




这个根节点已经创建虚拟dom了吗????
没有
根节点是非常特殊
正常来说
先有虚拟DOM->fiber节点->真实DOM
根节点 上开始React执行前就已经 建好了document.getElementById("root")


根fiber是不是比较特殊，没有对应的虚拟dom吗？是的


current指是当前根容器它的现在正在显示的或者说已经渲染好的fiber树
current代表当前节点对应的Fiber
current是有特殊含义的

fiber就是为了监听节点变化更新渲染的吗

fiber是一个数据结构
为什么需要有这样一个数据结构
因为我们希望把构建fiber树的过程，或者说渲染的过程变成可中断，可暂停和恢复的过程

jsx
渲染
类组件函数组件
合成事件
ref,DOM-DIFF
hooks
lane模型
并发渲染


老师刚才最后这里，剪短环形链表之后，这一个链表的所有更新都要执行么
update1=>update2=>update3
循环执行更新
以后还讲react 17吗？
以前讲的是17
这儿不是很明白，
hooks 双向链表会讲吗
肯定会
环形
fiber这里还继续往下写吗？ 张佬
布占华:fiber这里还继续往下写吗？ 张佬

下次课是下周三晚上8点开始

